# Chat 页面 - 改进的对话界面

## 功能特性

本页面实现了一个现代化的聊天对话界面，专门用于用户之间的互助对话。

## 界面布局

### 消息显示规则
- **对方消息**: 头像显示在左边，消息气泡在右边
- **自己消息**: 消息气泡在左边，头像显示在右边
- 支持打字中状态显示

### 消息气泡设计
- 对方消息: 白色背景 + 向右的弧尾效果
- 自己消息: 粉色渐变背景 + 向左的弧尾效果
- 支持长文本自动换行

## 特殊功能

### 互助功能
- **完成按钮**: 只有请求者且会话状态为active时显示
- **蜡烛横幅**: 只有请求者且有匹配的帮助者时显示
- **帮助者列表**: 点击蜡烛可以查看可提供帮助的用户

### 消息监听
- 支持实时消息监听（watch模式）
- 自动降级到轮询模式（备用方案）
- 新消息自动标记为已读

## 技术实现

### 数据结构
```javascript
messages: [
  {
    messageId: "msg_1234567890",
    conversationId: "conv_1234567890",
    senderId: "openid_123",
    content: "消息内容",
    createTime: new Date()
  }
]
```

### 样式特性
- 响应式设计，适配不同屏幕尺寸
- 消息入场动画效果
- 自定义滚动条样式
- 安全区域适配

### 用户交互
- 输入框自动调整高度
- 发送按钮状态变化
- 自动滚动到最新消息
- 支持长按菜单（预留接口）

## 文件结构

- `index.wxml` - 页面模板
- `index.wxss` - 页面样式
- `index.js` - 页面逻辑
- `index.json` - 页面配置

## 相关页面

- `session` - 互助会话页面（类似布局）
- `messages` - 消息列表页面
- `home` - 首页
